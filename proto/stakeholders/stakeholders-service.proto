syntax = "proto3";

option go_package = "proto/stakeholders";

import "google/api/annotations.proto";

service StakeholdersService {
  // RPC za registraciju korisnika
  rpc RegisterUser (RegistrationRequest) returns (AuthenticationResponse) {
    option (google.api.http) = {
      post: "/users/register"
      body: "*"
    };
  }

  // RPC za login korisnika
  rpc LoginUser (LoginRequest) returns (AuthenticationResponse) {
    option (google.api.http) = {
      post: "/users/login"
      body: "*"
    };
  }

   // RPC za dobijanje svih korisnika
  rpc GetAllUsers (GetAllUsersRequest) returns (GetAllUsersResponse) {
    option (google.api.http) = {
      get: "/users/all"
    };
  }
}



// Poruka za registraciju korisnika
message RegistrationRequest {
  string username = 1;
  string password = 2;
  string email    = 3;
  string role     = 4;
}

// Poruka za login korisnika
message LoginRequest {
  string username = 1;
  string password = 2;
}

// Odgovor za autentifikaciju (token)
message AuthenticationResponse {
  string accessToken = 1;
}


// Poruka za zahtev za sve korisnike (mo≈æe biti prazna)
message GetAllUsersRequest {}

// Poruka koja predstavlja jednog korisnika
message User {
  string id       = 1;
  string username = 2;
  string email    = 3;
  string role     = 4;
}

// Poruka za odgovor sa listom korisnika
message GetAllUsersResponse {
  repeated User users = 1;
}